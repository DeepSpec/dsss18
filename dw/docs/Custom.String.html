<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Custom.String</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Custom.String</h1>

<div class="code">
<span class="comment">(*&nbsp;String&nbsp;utilities.&nbsp;*)</span><br/>

<br/>
<span class="id" title="var">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Bool.Bool.html#"><span class="id" title="library">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.NArith.html#"><span class="id" title="library">NArith</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">List.ListNotations</span>.<br/>

<br/>
<span class="id" title="var">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#"><span class="id" title="library">String</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#"><span class="id" title="library">Ascii</span></a>.<br/>

<br/>
<span class="id" title="var">From</span> <span class="id" title="var">QuickChick</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">QuickChick</span>.<br/>

<br/>
<span class="id" title="keyword">Infix</span> <a name="d06cd74c85f3203a2a7679c3cb200b92"><span class="id" title="notation">&quot;</span></a>:::" := <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#String"><span class="id" title="constructor">String</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 60, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">string_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="ascii_eq"><span class="id" title="definition">ascii_eq</span></a> (<span class="id" title="var">l</span> <span class="id" title="var">r</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#ascii"><span class="id" title="inductive">Ascii.ascii</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Custom.String.html#l"><span class="id" title="variable">l</span></a> , <a class="idref" href="Custom.String.html#r"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#Ascii"><span class="id" title="constructor">Ascii.Ascii</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span> <span class="id" title="var">l3</span> <span class="id" title="var">l4</span> <span class="id" title="var">l5</span> <span class="id" title="var">l6</span> <span class="id" title="var">l7</span> <span class="id" title="var">l8</span> ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#Ascii"><span class="id" title="constructor">Ascii.Ascii</span></a> <span class="id" title="var">r1</span> <span class="id" title="var">r2</span> <span class="id" title="var">r3</span> <span class="id" title="var">r4</span> <span class="id" title="var">r5</span> <span class="id" title="var">r6</span> <span class="id" title="var">r7</span> <span class="id" title="var">r8</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Bool.Bool.html#eqb"><span class="id" title="definition">Bool.eqb</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">r1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Bool.Bool.html#eqb"><span class="id" title="definition">Bool.eqb</span></a> <span class="id" title="var">l2</span> <span class="id" title="var">r2</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Bool.Bool.html#eqb"><span class="id" title="definition">Bool.eqb</span></a> <span class="id" title="var">l3</span> <span class="id" title="var">r3</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Bool.Bool.html#eqb"><span class="id" title="definition">Bool.eqb</span></a> <span class="id" title="var">l4</span> <span class="id" title="var">r4</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Bool.Bool.html#eqb"><span class="id" title="definition">Bool.eqb</span></a> <span class="id" title="var">l5</span> <span class="id" title="var">r5</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Bool.Bool.html#eqb"><span class="id" title="definition">Bool.eqb</span></a> <span class="id" title="var">l6</span> <span class="id" title="var">r6</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Bool.Bool.html#eqb"><span class="id" title="definition">Bool.eqb</span></a> <span class="id" title="var">l7</span> <span class="id" title="var">r7</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Bool.Bool.html#eqb"><span class="id" title="definition">Bool.eqb</span></a> <span class="id" title="var">l8</span> <span class="id" title="var">r8</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>%<span class="id" title="var">bool</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="string_eq"><span class="id" title="definition">string_eq</span></a> (<span class="id" title="var">l</span> <span class="id" title="var">r</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Custom.String.html#l"><span class="id" title="variable">l</span></a>, <a class="idref" href="Custom.String.html#r"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| "", "" ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#String"><span class="id" title="constructor">String</span></a> <span class="id" title="var">l0</span> <span class="id" title="var">ls</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#String"><span class="id" title="constructor">String</span></a> <span class="id" title="var">r0</span> <span class="id" title="var">rs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Custom.String.html#ascii_eq"><span class="id" title="definition">ascii_eq</span></a> <span class="id" title="var">l0</span> <span class="id" title="var">r0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Custom.String.html#string_eq"><span class="id" title="definition">string_eq</span></a> <span class="id" title="var">ls</span> <span class="id" title="var">rs</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ascii_eq_refl"><span class="id" title="lemma">ascii_eq_refl</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">a</span>, <a class="idref" href="Custom.String.html#ascii_eq"><span class="id" title="definition">ascii_eq</span></a> <a class="idref" href="Custom.String.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Custom.String.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> [[] [] [] [] [] [] [] []]; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="string_eq_refl"><span class="id" title="lemma">string_eq_refl</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span>, <a class="idref" href="Custom.String.html#string_eq"><span class="id" title="definition">string_eq</span></a> <a class="idref" href="Custom.String.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Custom.String.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Custom.String.html#ascii_eq_refl"><span class="id" title="lemma">ascii_eq_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="CharClass"><span class="id" title="section">CharClass</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">NArith</span>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">N_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="isWhite"><span class="id" title="definition">isWhite</span></a> (<span class="id" title="var">c</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#ascii"><span class="id" title="inductive">ascii</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">n</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#N_of_ascii"><span class="id" title="definition">N_of_ascii</span></a> <a class="idref" href="Custom.String.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#orb"><span class="id" title="definition">orb</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#orb"><span class="id" title="definition">orb</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#N.eqb"><span class="id" title="definition">N.eqb</span></a> <a class="idref" href="Custom.String.html#n"><span class="id" title="variable">n</span></a> 32)   <span class="comment">(*&nbsp;space&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#N.eqb"><span class="id" title="definition">N.eqb</span></a> <a class="idref" href="Custom.String.html#n"><span class="id" title="variable">n</span></a> 9))   <span class="comment">(*&nbsp;tab&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#orb"><span class="id" title="definition">orb</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#N.eqb"><span class="id" title="definition">N.eqb</span></a> <a class="idref" href="Custom.String.html#n"><span class="id" title="variable">n</span></a> 10)   <span class="comment">(*&nbsp;linefeed&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#N.eqb"><span class="id" title="definition">N.eqb</span></a> <a class="idref" href="Custom.String.html#n"><span class="id" title="variable">n</span></a> 13)). <span class="comment">(*&nbsp;Carriage&nbsp;return.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="isLowerAlpha"><span class="id" title="definition">isLowerAlpha</span></a> (<span class="id" title="var">c</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#ascii"><span class="id" title="inductive">ascii</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">n</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#N_of_ascii"><span class="id" title="definition">N_of_ascii</span></a> <a class="idref" href="Custom.String.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#andb"><span class="id" title="definition">andb</span></a> (97 <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#feed58fd501ff229134b044293f4124c"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="Custom.String.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="Custom.String.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#feed58fd501ff229134b044293f4124c"><span class="id" title="notation">&lt;=?</span></a> 122).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="isAlpha"><span class="id" title="definition">isAlpha</span></a> (<span class="id" title="var">c</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#ascii"><span class="id" title="inductive">ascii</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">n</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#N_of_ascii"><span class="id" title="definition">N_of_ascii</span></a> <a class="idref" href="Custom.String.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#orb"><span class="id" title="definition">orb</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#andb"><span class="id" title="definition">andb</span></a> (65 <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#feed58fd501ff229134b044293f4124c"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="Custom.String.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="Custom.String.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#feed58fd501ff229134b044293f4124c"><span class="id" title="notation">&lt;=?</span></a> 90))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#andb"><span class="id" title="definition">andb</span></a> (97 <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#feed58fd501ff229134b044293f4124c"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="Custom.String.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="Custom.String.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#feed58fd501ff229134b044293f4124c"><span class="id" title="notation">&lt;=?</span></a> 122)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="isDigit"><span class="id" title="definition">isDigit</span></a> (<span class="id" title="var">c</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#ascii"><span class="id" title="inductive">ascii</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">n</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#N_of_ascii"><span class="id" title="definition">N_of_ascii</span></a> <a class="idref" href="Custom.String.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#andb"><span class="id" title="definition">andb</span></a> (48 <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#feed58fd501ff229134b044293f4124c"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="Custom.String.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="Custom.String.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#feed58fd501ff229134b044293f4124c"><span class="id" title="notation">&lt;=?</span></a> 57).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="isPrintable"><span class="id" title="definition">isPrintable</span></a> (<span class="id" title="var">c</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#ascii"><span class="id" title="inductive">ascii</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">n</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#N_of_ascii"><span class="id" title="definition">N_of_ascii</span></a> <a class="idref" href="Custom.String.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#andb"><span class="id" title="definition">andb</span></a> (32 <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#feed58fd501ff229134b044293f4124c"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="Custom.String.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="Custom.String.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#7950046a0ee096049abc1cfb6afce9ed"><span class="id" title="notation">&lt;?</span></a> 127).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="chartype"><span class="id" title="inductive">chartype</span></a> := <a name="white"><span class="id" title="constructor">white</span></a> | <a name="alpha"><span class="id" title="constructor">alpha</span></a> | <a name="digit"><span class="id" title="constructor">digit</span></a> | <a name="other"><span class="id" title="constructor">other</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="classifyChar"><span class="id" title="definition">classifyChar</span></a> (<span class="id" title="var">c</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#ascii"><span class="id" title="inductive">ascii</span></a>) : <a class="idref" href="Custom.String.html#chartype"><span class="id" title="inductive">chartype</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Custom.String.html#isWhite"><span class="id" title="definition">isWhite</span></a> <a class="idref" href="Custom.String.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Custom.String.html#white"><span class="id" title="constructor">white</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">if</span> <a class="idref" href="Custom.String.html#isAlpha"><span class="id" title="definition">isAlpha</span></a> <a class="idref" href="Custom.String.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Custom.String.html#alpha"><span class="id" title="constructor">alpha</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">if</span> <a class="idref" href="Custom.String.html#isDigit"><span class="id" title="definition">isDigit</span></a> <a class="idref" href="Custom.String.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Custom.String.html#digit"><span class="id" title="constructor">digit</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Custom.String.html#other"><span class="id" title="constructor">other</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="is_lower"><span class="id" title="definition">is_lower</span></a> (<span class="id" title="var">c</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#ascii"><span class="id" title="inductive">ascii</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">n</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#N_of_ascii"><span class="id" title="definition">N_of_ascii</span></a> <a class="idref" href="Custom.String.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a>97 <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#feed58fd501ff229134b044293f4124c"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="Custom.String.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><a class="idref" href="Custom.String.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#feed58fd501ff229134b044293f4124c"><span class="id" title="notation">&lt;=?</span></a> 122<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="is_upper"><span class="id" title="definition">is_upper</span></a> (<span class="id" title="var">c</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#ascii"><span class="id" title="inductive">ascii</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">n</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#N_of_ascii"><span class="id" title="definition">N_of_ascii</span></a> <a class="idref" href="Custom.String.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a>65 <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#feed58fd501ff229134b044293f4124c"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="Custom.String.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><a class="idref" href="Custom.String.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#feed58fd501ff229134b044293f4124c"><span class="id" title="notation">&lt;=?</span></a> 90<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="to_lower"><span class="id" title="definition">to_lower</span></a> (<span class="id" title="var">c</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#ascii"><span class="id" title="inductive">ascii</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#ascii"><span class="id" title="inductive">ascii</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Custom.String.html#is_upper"><span class="id" title="definition">is_upper</span></a> <a class="idref" href="Custom.String.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#ascii_of_N"><span class="id" title="definition">ascii_of_N</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#3eae0a7077c32c35751dcbc966d4030e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#N_of_ascii"><span class="id" title="definition">N_of_ascii</span></a> <a class="idref" href="Custom.String.html#c"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#3eae0a7077c32c35751dcbc966d4030e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#3eae0a7077c32c35751dcbc966d4030e"><span class="id" title="notation">+</span></a> 32)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Custom.String.html#c"><span class="id" title="variable">c</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="to_upper"><span class="id" title="definition">to_upper</span></a> (<span class="id" title="var">c</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#ascii"><span class="id" title="inductive">ascii</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#ascii"><span class="id" title="inductive">ascii</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Custom.String.html#is_lower"><span class="id" title="definition">is_lower</span></a> <a class="idref" href="Custom.String.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#ascii_of_N"><span class="id" title="definition">ascii_of_N</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#8f8a4f40bf90344891ee6648247c64dc"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#N_of_ascii"><span class="id" title="definition">N_of_ascii</span></a> <a class="idref" href="Custom.String.html#c"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#8f8a4f40bf90344891ee6648247c64dc"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.NArith.BinNat.html#8f8a4f40bf90344891ee6648247c64dc"><span class="id" title="notation">-</span></a> 32)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Custom.String.html#c"><span class="id" title="variable">c</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Custom.String.html#CharClass"><span class="id" title="section">CharClass</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="map_string"><span class="id" title="definition">map_string</span></a> (<span class="id" title="var">f</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#ascii"><span class="id" title="inductive">ascii</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#ascii"><span class="id" title="inductive">ascii</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fix</span> <span class="id" title="var">map_f</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Custom.String.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| "" ⇒ ""<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#String"><span class="id" title="constructor">String</span></a> <span class="id" title="var">c</span> <span class="id" title="var">s'</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#String"><span class="id" title="constructor">String</span></a> (<a class="idref" href="Custom.String.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">c</span>) (<a class="idref" href="Custom.String.html#map_f"><span class="id" title="variable">map_f</span></a> <span class="id" title="var">s'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="to_lower_string"><span class="id" title="definition">to_lower_string</span></a> (<span class="id" title="var">s</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Custom.String.html#map_string"><span class="id" title="definition">map_string</span></a> <a class="idref" href="Custom.String.html#to_lower"><span class="id" title="definition">to_lower</span></a> <a class="idref" href="Custom.String.html#s"><span class="id" title="variable">s</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="reverse_string'"><span class="id" title="definition">reverse_string'</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">s'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Custom.String.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#EmptyString"><span class="id" title="constructor">EmptyString</span></a> ⇒ <a class="idref" href="Custom.String.html#s'"><span class="id" title="variable">s'</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#String"><span class="id" title="constructor">String</span></a> <span class="id" title="var">c</span> <span class="id" title="var">s</span> ⇒ <a class="idref" href="Custom.String.html#reverse_string'"><span class="id" title="definition">reverse_string'</span></a> <a class="idref" href="Custom.String.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#String"><span class="id" title="constructor">String</span></a> <span class="id" title="var">c</span> <a class="idref" href="Custom.String.html#s'"><span class="id" title="variable">s'</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="reverse_string"><span class="id" title="definition">reverse_string</span></a> (<span class="id" title="var">s</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Custom.String.html#reverse_string'"><span class="id" title="definition">reverse_string'</span></a> <a class="idref" href="Custom.String.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#EmptyString"><span class="id" title="constructor">EmptyString</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="repeat_string"><span class="id" title="definition">repeat_string</span></a> (<span class="id" title="var">c</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#ascii"><span class="id" title="inductive">ascii</span></a>) (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Custom.String.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ ""<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#String"><span class="id" title="constructor">String</span></a> <a class="idref" href="Custom.String.html#c"><span class="id" title="variable">c</span></a> (<a class="idref" href="Custom.String.html#repeat_string"><span class="id" title="definition">repeat_string</span></a> <a class="idref" href="Custom.String.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Custom.String.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="repeat_string_length"><span class="id" title="lemma">repeat_string_length</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">c</span> <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#length"><span class="id" title="definition">String.length</span></a> (<a class="idref" href="Custom.String.html#repeat_string"><span class="id" title="definition">repeat_string</span></a> <a class="idref" href="Custom.String.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Custom.String.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Custom.String.html#n"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Use&nbsp;n&nbsp;here&nbsp;as&nbsp;the&nbsp;ranking&nbsp;function&nbsp;to&nbsp;show&nbsp;that&nbsp;this&nbsp;terminates.<br/>
&nbsp;&nbsp;&nbsp;Use&nbsp;(length&nbsp;l)&nbsp;should&nbsp;be&nbsp;enough.&nbsp;*)</span><br/>
<span class="id" title="keyword">Fixpoint</span> <a name="bits_to_string"><span class="id" title="definition">bits_to_string</span></a> (<span class="id" title="var">n</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">l</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="var">s</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Custom.String.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <a class="idref" href="Custom.String.html#s"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Custom.String.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="Custom.String.html#reverse_string"><span class="id" title="definition">reverse_string</span></a> <a class="idref" href="Custom.String.html#s"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">l</span> ⇒ <a class="idref" href="Custom.String.html#bits_to_string"><span class="id" title="definition">bits_to_string</span></a> <span class="id" title="var">n'</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">List.skipn</span></a> 8 <a class="idref" href="Custom.String.html#l"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#String"><span class="id" title="constructor">String</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#ascii_of_N"><span class="id" title="definition">ascii_of_N</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#N_of_digits"><span class="id" title="definition">N_of_digits</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">List.firstn</span></a> 8 <a class="idref" href="Custom.String.html#l"><span class="id" title="variable">l</span></a>)))) <a class="idref" href="Custom.String.html#s"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="list_bits_to_string"><span class="id" title="definition">list_bits_to_string</span></a> (<span class="id" title="var">l</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)) : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l'</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#concat"><span class="id" title="definition">List.concat</span></a> <a class="idref" href="Custom.String.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="Custom.String.html#bits_to_string"><span class="id" title="definition">bits_to_string</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="Custom.String.html#l'"><span class="id" title="variable">l'</span></a>) <a class="idref" href="Custom.String.html#l'"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#EmptyString"><span class="id" title="constructor">EmptyString</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;More&nbsp;lemmas&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="append_nil"><span class="id" title="lemma">append_nil</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">s</span>, (<a class="idref" href="Custom.String.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "")%<span class="id" title="var">string</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Custom.String.html#s"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHs</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="append_assoc"><span class="id" title="lemma">append_assoc</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">s''</span>, (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">(</span></a><a class="idref" href="Custom.String.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Custom.String.html#s'"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Custom.String.html#s''"><span class="id" title="variable">s''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Custom.String.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">(</span></a><a class="idref" href="Custom.String.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Custom.String.html#s''"><span class="id" title="variable">s''</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">string</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHs</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="append_byte_assoc"><span class="id" title="lemma">append_byte_assoc</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">b</span> <span class="id" title="var">s'</span>, (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">(</span></a><a class="idref" href="Custom.String.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#String"><span class="id" title="constructor">String</span></a> <a class="idref" href="Custom.String.html#b"><span class="id" title="variable">b</span></a> ""<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Custom.String.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Custom.String.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#String"><span class="id" title="constructor">String</span></a> <a class="idref" href="Custom.String.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Custom.String.html#s'"><span class="id" title="variable">s'</span></a>)%<span class="id" title="var">string</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Custom.String.html#append_assoc"><span class="id" title="lemma">append_assoc</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;----------------------&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Ascii&nbsp;and&nbsp;string&nbsp;typeclass&nbsp;instances&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="gSizedAscii"><span class="id" title="instance">gSizedAscii</span></a> : <span class="id" title="class">GenSized</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#ascii"><span class="id" title="inductive">ascii</span></a> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="constructor">arbitrarySized</span> <span class="id" title="constructor">:=</span> <span class="id" title="constructor">fun</span> <span class="id" title="constructor">_</span> <span class="id" title="constructor">⇒</span> <span class="id" title="constructor">liftGen</span> <span class="id" title="constructor">ascii_of_nat</span> <span class="id" title="constructor">(</span><span class="id" title="constructor">choose</span> <span class="id" title="constructor">(0,127))</span> |}.<br/>
<span class="id" title="var">Derive</span> <span class="id" title="var">GenSized</span> <span class="id" title="keyword">for</span> <span class="id" title="var">string</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="shrinkAscii"><span class="id" title="instance">shrinkAscii</span></a> : <span class="id" title="class">Shrink</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.Ascii.html#ascii"><span class="id" title="inductive">ascii</span></a> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="constructor">shrink</span> <span class="id" title="constructor">c</span> <span class="id" title="constructor">:=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="constructor">if</span> <span class="id" title="constructor">(</span><span class="id" title="constructor">c</span> <span class="id" title="constructor">=</span> "a"<span class="id" title="constructor">%</span><span class="id" title="constructor">char</span><span class="id" title="constructor">)?</span> <span class="id" title="constructor">then</span> <span class="id" title="constructor">[]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="constructor">else</span> <span class="id" title="constructor">if</span> <span class="id" title="constructor">(</span><span class="id" title="constructor">c</span> <span class="id" title="constructor">=</span> "b"<span class="id" title="constructor">%</span><span class="id" title="constructor">char</span><span class="id" title="constructor">)?</span> <span class="id" title="constructor">then</span> <span class="id" title="constructor">[</span>"a"<span class="id" title="constructor">%</span><span class="id" title="constructor">char</span><span class="id" title="constructor">]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="constructor">else</span> <span class="id" title="constructor">[</span>"a"<span class="id" title="constructor">%</span><span class="id" title="constructor">char</span><span class="id" title="constructor">;</span>"b"<span class="id" title="constructor">%</span><span class="id" title="constructor">char</span><span class="id" title="constructor">]</span><br/>
&nbsp;&nbsp;|}%<span class="id" title="var">list</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="shrinkStringAux"><span class="id" title="definition">shrinkStringAux</span></a> (<span class="id" title="var">s</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Custom.String.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| "" ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">c</span> <a class="idref" href="Custom.String.html#d06cd74c85f3203a2a7679c3cb200b92"><span class="id" title="notation">:::</span></a> <span class="id" title="var">cs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(  <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#64ee52ab9627fca8d637e2f1207a2990"><span class="id" title="notation">[</span></a><span class="id" title="var">cs</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#64ee52ab9627fca8d637e2f1207a2990"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">c'</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#String"><span class="id" title="constructor">String</span></a> <a class="idref" href="Custom.String.html#c'"><span class="id" title="variable">c'</span></a> <span class="id" title="var">cs</span>) (<span class="id" title="method">shrink</span> <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">cs'</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#String"><span class="id" title="constructor">String</span></a> <span class="id" title="var">c</span> <a class="idref" href="Custom.String.html#cs'"><span class="id" title="variable">cs'</span></a>) (<a class="idref" href="Custom.String.html#shrinkStringAux"><span class="id" title="definition">shrinkStringAux</span></a> <span class="id" title="var">cs</span>))%<span class="id" title="var">list</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="shrinkString"><span class="id" title="instance">shrinkString</span></a> : <span class="id" title="class">Shrink</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="constructor">shrink</span> <span class="id" title="constructor">:=</span> <span class="id" title="constructor">shrinkStringAux</span> |}.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>