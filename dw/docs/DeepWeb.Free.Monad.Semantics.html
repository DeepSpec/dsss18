<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>DeepWeb.Free.Monad.Semantics</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library DeepWeb.Free.Monad.Semantics</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Logic.ProofIrrelevance.html#"><span class="id" title="library">ProofIrrelevance</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DeepWeb.Free.Monad.Free.html#"><span class="id" title="library">DeepWeb.Free.Monad.Free</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DeepWeb.Free.Monad.Common.html#"><span class="id" title="library">DeepWeb.Free.Monad.Common</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DeepWeb.Free.Monad.Internal.html#"><span class="id" title="library">DeepWeb.Free.Monad.Internal</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">MonadNotations</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="Sem"><span class="id" title="section">Sem</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="Sem.E"><span class="id" title="variable">E</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Variable</span> <a name="Sem.S"><span class="id" title="variable">S</span></a> : <span class="id" title="keyword">Type</span>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="Sem.pre"><span class="id" title="variable">pre</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">X</span>, <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Sem.E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Sem.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>.<br/>
<span class="id" title="keyword">Variable</span> <a name="Sem.step"><span class="id" title="variable">step</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">X</span>, <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Sem.E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Sem.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Sem.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
<span class="id" title="keyword">CoInductive</span> <a name="Stable"><span class="id" title="inductive">Stable</span></a> {<span class="id" title="var">X</span>} (<span class="id" title="var">post</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Sem.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Sem.S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Free.html#M"><span class="id" title="inductive">M</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Sem.E"><span class="id" title="variable">E</span></a> <span class="id" title="var">X</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="StableRet"><span class="id" title="constructor">StableRet</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span>, <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#post"><span class="id" title="variable">post</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Stable"><span class="id" title="inductive">Stable</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#post"><span class="id" title="variable">post</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Free.html#Ret"><span class="id" title="constructor">Ret</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#x"><span class="id" title="variable">x</span></a>)<br/>
| <a name="StableTau"><span class="id" title="constructor">StableTau</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span>, <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Stable"><span class="id" title="inductive">Stable</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#post"><span class="id" title="variable">post</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Stable"><span class="id" title="inductive">Stable</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#post"><span class="id" title="variable">post</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Free.html#Tau"><span class="id" title="constructor">Tau</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#m"><span class="id" title="variable">m</span></a>)<br/>
| <a name="StableVis"><span class="id" title="constructor">StableVis</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">Y</span> (<span class="id" title="var">e</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Sem.E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Y"><span class="id" title="variable">Y</span></a>) (<span class="id" title="var">k</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Free.html#M"><span class="id" title="inductive">M</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Sem.E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Sem.pre"><span class="id" title="variable">pre</span></a> <span class="id" title="var">_</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">y</span> <span class="id" title="var">s'</span>, <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Sem.step"><span class="id" title="variable">step</span></a> <span class="id" title="var">_</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Stable"><span class="id" title="inductive">Stable</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#post"><span class="id" title="variable">post</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s'"><span class="id" title="variable">s'</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#y"><span class="id" title="variable">y</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Stable"><span class="id" title="inductive">Stable</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#post"><span class="id" title="variable">post</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Free.html#Vis"><span class="id" title="constructor">Vis</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#k"><span class="id" title="variable">k</span></a>).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Sem"><span class="id" title="section">Sem</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="stable_bind"><span class="id" title="lemma">stable_bind</span></a> <span class="id" title="var">E</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">S</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pre</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">X</span>, <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">step</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">X</span>, <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">postA</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">postB</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">k</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Free.html#M"><span class="id" title="inductive">M</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#B"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">s'</span> <span class="id" title="var">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#postA"><span class="id" title="variable">postA</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Stable"><span class="id" title="inductive">Stable</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#pre"><span class="id" title="variable">pre</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#step"><span class="id" title="variable">step</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#postB"><span class="id" title="variable">postB</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s'"><span class="id" title="variable">s'</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#a"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">s</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">m</span> : <a class="idref" href="DeepWeb.Free.Monad.Free.html#M"><span class="id" title="inductive">M</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Stable"><span class="id" title="inductive">Stable</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#pre"><span class="id" title="variable">pre</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#step"><span class="id" title="variable">step</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#postA"><span class="id" title="variable">postA</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Stable"><span class="id" title="inductive">Stable</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#pre"><span class="id" title="variable">pre</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#step"><span class="id" title="variable">step</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#postB"><span class="id" title="variable">postB</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Free.html#bindM"><span class="id" title="definition">bindM</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#k"><span class="id" title="variable">k</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">cofix</span> <span class="id" title="var">self</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DeepWeb.Free.Monad.Internal.html#bind_def"><span class="id" title="lemma">bind_def</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#StableTau"><span class="id" title="constructor">StableTau</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DeepWeb.Free.Monad.Internal.html#bind_def"><span class="id" title="lemma">bind_def</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#StableTau"><span class="id" title="constructor">StableTau</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">self</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DeepWeb.Free.Monad.Internal.html#bind_def"><span class="id" title="lemma">bind_def</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#StableVis"><span class="id" title="constructor">StableVis</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">s'</span> <span class="id" title="var">Hs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">self</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="StableAssoc"><span class="id" title="section">StableAssoc</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">ProofIrrelevance</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="stable_assoc"><span class="id" title="lemma">stable_assoc</span></a> <span class="id" title="var">E</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">S</span> (<span class="id" title="var">pre</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">X</span>, <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">step</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">X</span>, <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">post</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">m</span> : <a class="idref" href="DeepWeb.Free.Monad.Free.html#M"><span class="id" title="inductive">M</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">k</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Free.html#M"><span class="id" title="inductive">M</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">h</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Free.html#M"><span class="id" title="inductive">M</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#C"><span class="id" title="variable">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Stable"><span class="id" title="inductive">Stable</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#pre"><span class="id" title="variable">pre</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#step"><span class="id" title="variable">step</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#post"><span class="id" title="variable">post</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Free.html#bindM"><span class="id" title="definition">bindM</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#m"><span class="id" title="variable">m</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> ⇒ <a class="idref" href="DeepWeb.Free.Monad.Free.html#bindM"><span class="id" title="definition">bindM</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#h"><span class="id" title="variable">h</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Stable"><span class="id" title="inductive">Stable</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#pre"><span class="id" title="variable">pre</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#step"><span class="id" title="variable">step</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#post"><span class="id" title="variable">post</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Free.html#bindM"><span class="id" title="definition">bindM</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Free.html#bindM"><span class="id" title="definition">bindM</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#h"><span class="id" title="variable">h</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">S</span> <span class="id" title="var">pre</span> <span class="id" title="var">step</span> <span class="id" title="var">post</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">cofix</span> <span class="id" title="var">self</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DeepWeb.Free.Monad.Internal.html#matchM"><span class="id" title="lemma">matchM</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DeepWeb.Free.Monad.Internal.html#matchM"><span class="id" title="lemma">matchM</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DeepWeb.Free.Monad.Internal.html#bind_def"><span class="id" title="lemma">bind_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DeepWeb.Free.Monad.Internal.html#bind_def"><span class="id" title="lemma">bind_def</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Logic.ProofIrrelevance.html#ProofIrrelevanceTheory.EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Logic.ProofIrrelevance.html#ProofIrrelevanceTheory.EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#StableVis"><span class="id" title="constructor">StableVis</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">s'</span> <span class="id" title="var">Hs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">self</span> <span class="id" title="var">s'</span> (<span class="id" title="var">k0</span> <span class="id" title="var">y</span>) <span class="id" title="var">k</span> <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DeepWeb.Free.Monad.Internal.html#bind_def"><span class="id" title="lemma">bind_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DeepWeb.Free.Monad.Internal.html#bind_def"><span class="id" title="lemma">bind_def</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#StableTau"><span class="id" title="constructor">StableTau</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">self</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span> <span class="id" title="var">k</span> <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="stable_map_assoc"><span class="id" title="lemma">stable_map_assoc</span></a> <span class="id" title="var">E</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">S</span> (<span class="id" title="var">pre</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">X</span>, <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">step</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">X</span>, <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">post</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">m</span> : <a class="idref" href="DeepWeb.Free.Monad.Free.html#M"><span class="id" title="inductive">M</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">f</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">h</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Free.html#M"><span class="id" title="inductive">M</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#C"><span class="id" title="variable">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Stable"><span class="id" title="inductive">Stable</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#pre"><span class="id" title="variable">pre</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#step"><span class="id" title="variable">step</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#post"><span class="id" title="variable">post</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Free.html#bindM"><span class="id" title="definition">bindM</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#m"><span class="id" title="variable">m</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> ⇒ <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#h"><span class="id" title="variable">h</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#a"><span class="id" title="variable">a</span></a>))) <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Stable"><span class="id" title="inductive">Stable</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#pre"><span class="id" title="variable">pre</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#step"><span class="id" title="variable">step</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#post"><span class="id" title="variable">post</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Free.html#bindM"><span class="id" title="definition">bindM</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Free.html#mapM"><span class="id" title="definition">mapM</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#h"><span class="id" title="variable">h</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">S</span> <span class="id" title="var">pre</span> <span class="id" title="var">step</span> <span class="id" title="var">post</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">cofix</span> <span class="id" title="var">self</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DeepWeb.Free.Monad.Internal.html#matchM"><span class="id" title="lemma">matchM</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DeepWeb.Free.Monad.Internal.html#matchM"><span class="id" title="lemma">matchM</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DeepWeb.Free.Monad.Internal.html#bind_def"><span class="id" title="lemma">bind_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DeepWeb.Free.Monad.Internal.html#bind_def"><span class="id" title="lemma">bind_def</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Logic.ProofIrrelevance.html#ProofIrrelevanceTheory.EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Logic.ProofIrrelevance.html#ProofIrrelevanceTheory.EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#StableVis"><span class="id" title="constructor">StableVis</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">s'</span> <span class="id" title="var">Hs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">self</span> <span class="id" title="var">s'</span> (<span class="id" title="var">k</span> <span class="id" title="var">y</span>) <span class="id" title="var">f</span> <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DeepWeb.Free.Monad.Internal.html#bind_def"><span class="id" title="lemma">bind_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DeepWeb.Free.Monad.Internal.html#bind_def"><span class="id" title="lemma">bind_def</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#StableTau"><span class="id" title="constructor">StableTau</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">self</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#StableAssoc"><span class="id" title="section">StableAssoc</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="stable_mapM"><span class="id" title="lemma">stable_mapM</span></a> <span class="id" title="var">E</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">S</span> (<span class="id" title="var">pre</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">X</span>, <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">step</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">X</span>, <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">postA</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">postB</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#B"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">a</span>, <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#postA"><span class="id" title="variable">postA</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#postB"><span class="id" title="variable">postB</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#a"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">s</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="DeepWeb.Free.Monad.Free.html#M"><span class="id" title="inductive">M</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Stable"><span class="id" title="inductive">Stable</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#pre"><span class="id" title="variable">pre</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#step"><span class="id" title="variable">step</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#postA"><span class="id" title="variable">postA</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Stable"><span class="id" title="inductive">Stable</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#pre"><span class="id" title="variable">pre</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#step"><span class="id" title="variable">step</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#postB"><span class="id" title="variable">postB</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Free.html#mapM"><span class="id" title="definition">mapM</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">S</span> <span class="id" title="var">pre</span> <span class="id" title="var">step</span> <span class="id" title="var">postA</span> <span class="id" title="var">postB</span> <span class="id" title="var">f</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">cofix</span> <span class="id" title="var">self</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="DeepWeb.Free.Monad.Internal.html#matchM"><span class="id" title="lemma">matchM</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#StableRet"><span class="id" title="constructor">StableRet</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#StableTau"><span class="id" title="constructor">StableTau</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">self</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">m</span> := <span class="id" title="var">m0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#StableVis"><span class="id" title="constructor">StableVis</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">self</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">m</span> := <span class="id" title="var">k</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="hoist_def"><span class="id" title="lemma">hoist_def</span></a> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> (<span class="id" title="var">e</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Y"><span class="id" title="variable">Y</span></a>) (<span class="id" title="var">k</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Free.html#M"><span class="id" title="inductive">M</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">X</span>, <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Internal.html#hoist"><span class="id" title="definition">hoist</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Free.html#Vis"><span class="id" title="constructor">Vis</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="DeepWeb.Free.Monad.Free.html#Vis"><span class="id" title="constructor">Vis</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">_</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#e"><span class="id" title="variable">e</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> ⇒ <a class="idref" href="DeepWeb.Free.Monad.Internal.html#hoist"><span class="id" title="definition">hoist</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#y"><span class="id" title="variable">y</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="DeepWeb.Free.Monad.Internal.html#matchM"><span class="id" title="lemma">matchM</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Internal.html#hoist"><span class="id" title="definition">hoist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="hom_def"><span class="id" title="lemma">hom_def</span></a> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> (<span class="id" title="var">e</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Y"><span class="id" title="variable">Y</span></a>) (<span class="id" title="var">k</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Free.html#M"><span class="id" title="inductive">M</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">interpret</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">Y</span>, <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Free.html#M"><span class="id" title="inductive">M</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Y"><span class="id" title="variable">Y</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Internal.html#hom"><span class="id" title="definition">hom</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#interpret"><span class="id" title="variable">interpret</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Free.html#Vis"><span class="id" title="constructor">Vis</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#k"><span class="id" title="variable">k</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#interpret"><span class="id" title="variable">interpret</span></a> <span class="id" title="var">_</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Custom.Monad.html#a3fbc9e077330a5ed7e551bfb7728bde"><span class="id" title="notation">&gt;&gt;=</span></a> <span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Internal.html#hom"><span class="id" title="definition">hom</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#interpret"><span class="id" title="variable">interpret</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#y"><span class="id" title="variable">y</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="DeepWeb.Free.Monad.Internal.html#matchM"><span class="id" title="lemma">matchM</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Internal.html#hom"><span class="id" title="definition">hom</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="DeepWeb.Free.Monad.Internal.html#matchM"><span class="id" title="lemma">matchM</span></a> (<a class="idref" href="Custom.Monad.html#bind"><span class="id" title="method">bind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="stable_run"><span class="id" title="lemma">stable_run</span></a> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">S_</span> <span class="id" title="var">S</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pre_</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">X</span>, <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S_"><span class="id" title="variable">S_</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">step_</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">X</span>, <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S_"><span class="id" title="variable">S_</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S_"><span class="id" title="variable">S_</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pre</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">X</span>, <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">step</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">X</span>, <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">refn</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S_"><span class="id" title="variable">S_</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">interpret</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">X</span>, <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Free.html#M"><span class="id" title="inductive">M</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">X</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">post_</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S_"><span class="id" title="variable">S_</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">post</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">Y</span> (<span class="id" title="var">e</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Y"><span class="id" title="variable">Y</span></a>) <span class="id" title="var">s_</span> <span class="id" title="var">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#pre_"><span class="id" title="variable">pre_</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s_"><span class="id" title="variable">s_</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#refn"><span class="id" title="variable">refn</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s_"><span class="id" title="variable">s_</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Stable"><span class="id" title="inductive">Stable</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#pre"><span class="id" title="variable">pre</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#step"><span class="id" title="variable">step</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">s'</span> <span class="id" title="var">y</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">s_'</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#step_"><span class="id" title="variable">step_</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s_"><span class="id" title="variable">s_</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s_'"><span class="id" title="variable">s_'</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#refn"><span class="id" title="variable">refn</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s_'"><span class="id" title="variable">s_'</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s'"><span class="id" title="variable">s'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#interpret"><span class="id" title="variable">interpret</span></a> <span class="id" title="var">_</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#e"><span class="id" title="variable">e</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">s_'</span> <span class="id" title="var">s'</span> <span class="id" title="var">x</span>, <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#refn"><span class="id" title="variable">refn</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s_'"><span class="id" title="variable">s_'</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#post_"><span class="id" title="variable">post_</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s_'"><span class="id" title="variable">s_'</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#post"><span class="id" title="variable">post</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">s_</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S_"><span class="id" title="variable">S_</span></a>) (<span class="id" title="var">s</span> : <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="DeepWeb.Free.Monad.Free.html#M"><span class="id" title="inductive">M</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#X"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#refn"><span class="id" title="variable">refn</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s_"><span class="id" title="variable">s_</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Stable"><span class="id" title="inductive">Stable</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S_"><span class="id" title="variable">S_</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#pre_"><span class="id" title="variable">pre_</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#step_"><span class="id" title="variable">step_</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#post_"><span class="id" title="variable">post_</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s_"><span class="id" title="variable">s_</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Semantics.html#Stable"><span class="id" title="inductive">Stable</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#pre"><span class="id" title="variable">pre</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#step"><span class="id" title="variable">step</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#post"><span class="id" title="variable">post</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Common.html#run"><span class="id" title="definition">run</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#interpret"><span class="id" title="variable">interpret</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Internal.html#hoist"><span class="id" title="definition">hoist</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a>) <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#m"><span class="id" title="variable">m</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hinterpret</span> <span class="id" title="var">Hpost</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">cofix</span> <span class="id" title="var">self</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s_</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span> <span class="id" title="var">Hss_</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DeepWeb.Free.Monad.Internal.html#matchM"><span class="id" title="lemma">matchM</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#StableRet"><span class="id" title="constructor">StableRet</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hpost</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DeepWeb.Free.Monad.Internal.html#matchM"><span class="id" title="lemma">matchM</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#StableTau"><span class="id" title="constructor">StableTau</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">self</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">s_</span> := <span class="id" title="var">s_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#hoist_def"><span class="id" title="lemma">hoist_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DeepWeb.Free.Monad.Common.html#run"><span class="id" title="definition">run</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#hom_def"><span class="id" title="lemma">hom_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#stable_bind"><span class="id" title="lemma">stable_bind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">postA</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">s'</span> <span class="id" title="var">y</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">s_'</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <span class="id" title="var">step_</span> <span class="id" title="var">Y</span> <span class="id" title="var">e</span> <span class="id" title="var">s_</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s_'"><span class="id" title="variable">s_'</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <span class="id" title="var">refn</span> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s_'"><span class="id" title="variable">s_'</span></a> <a class="idref" href="DeepWeb.Free.Monad.Semantics.html#s'"><span class="id" title="variable">s'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">s'</span> <span class="id" title="var">a</span> [<span class="id" title="var">s_'</span> [<span class="id" title="var">Ha1</span> <span class="id" title="var">Ha2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">self</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">s_</span> := <span class="id" title="var">s_'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hinterpret</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>